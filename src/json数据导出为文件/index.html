<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>json数据导出为文件</title>
</head>
<body>
    <button id="btn">导出</button>
    <script>
        const jsonData = {
            "data": {
                "nodes": [
                    {
                        "id": "node-1",
                        "data": {
                            "type": "rect",
                            "x": 500,
                            "y": 100,
                            "size": [
                                90,
                                30
                            ],
                            "labelText": "节点一",
                            "labelPlacement": "center",
                            "ports": [
                                {
                                    "placement": "bottom",
                                },
                            ],
                            "lineWidth": 1,
                            "labelFontWeight": 500
                        }
                    },
                    {
                        "id": "node-2",
                        "data": {
                            "type": "rect",
                            "x": 300,
                            "y": 300,
                            "size": [
                                90,
                                30
                            ],
                            "labelText": "节点二",
                            "labelPlacement": "center",
                            "ports": [
                                {
                                    "placement": "top"
                                },
                                {
                                    "placement": "bottom"
                                }
                            ],
                            "lineWidth": 1,
                            "labelFontWeight": 500
                        }
                    },
                    {
                        "id": "node-3",
                        "data": {
                            "type": "rect",
                            "x": 700,
                            "y": 300,
                            "size": [
                                90,
                                30
                            ],
                            "labelText": "节点三",
                            "labelPlacement": "center",
                            "ports": [
                                {
                                    "placement": "top"
                                },
                                {
                                    "placement": "bottom"
                                }
                            ],
                            "lineWidth": 1,
                            "labelFontWeight": 500
                        }
                    },
                    {
                        "id": "node-4",
                        "data": {
                            "type": "rect",
                            "x": 500,
                            "y": 500,
                            "size": [
                                90,
                                30
                            ],
                            "labelText": "节点四",
                            "labelPlacement": "center",
                            "ports": [
                                {
                                    "placement": "top"
                                }
                            ],
                            "lineWidth": 1,
                            "labelFontWeight": 500
                        }
                    }
                ],
                "edges": [
                    {
                        "id": "edge-1",
                        "source": "node-1",
                        "target": "node-2",
                        "data":{
                            type:'line',
                            endArrow: true,
                        }
                    },
                    {
                        "id": "edge-2",
                        "source": "node-1",
                        "target": "node-3",
                        "data":{
                            type:'line',
                            endArrow: true,
                        }
                    },
                    {
                        "id": "edge-3",
                        "source": "node-2",
                        "target": "node-4",
                        "data":{
                            type:'line',
                            endArrow: true,
                        }
                    },
                    {
                        "id": "edge-4",
                        "source": "node-3",
                        "target": "node-4",
                        "data":{
                            type:'line',
                            endArrow: true,
                        }
                    }
                ]
            }
        }
        const button = document.getElementById('btn');
        button.onclick = () => {
            const jsonString = JSON.stringify(jsonData, null, 2); // The second parameter 'null' and third parameter '2' are used for pretty printing

            // Step 3: Create a Blob object
            const blob = new Blob([jsonString], { type: "application/json" });

            // Step 4: Create URL for Blob
            const url = URL.createObjectURL(blob);

            // Step 5: Create a link and set the URL using the Blob URL
            const a = document.createElement('a');
            a.href = url;
            a.download = 'data.json'; // The file name
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);

            // Release URL object
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
